!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Cpp4Web=e():t.Cpp4Web=e()}(this,(()=>(()=>{"use strict";var t={d:(e,n)=>{for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{Parse:()=>Ft,Runtime:()=>Wt,Tokenizer:()=>Dt});var n={};t.r(n),t.d(n,{Sm:()=>V,YO:()=>S,d3:()=>x,ng:()=>g,Bv:()=>I,Gt:()=>N,Aj:()=>Z,E4:()=>O,QP:()=>_,IA:()=>T,Ie:()=>L,eH:()=>A,hT:()=>M,W4:()=>E,lA:()=>P,U3:()=>B,ai:()=>F,wG:()=>W,Pl:()=>k,DM:()=>z,xw:()=>j,Yj:()=>D,w3:()=>C,_Q:()=>q,Lq:()=>v,NW:()=>U,bv:()=>b,Ij:()=>$});const s=["int","void","double","float","short","char","bool","long","signed","unsigned","string","asm","do","if","return","typedef","auto","inline","typeid","dynamic_cast","typename","break","else","sizeof","union","case","enum","mutable","static","catch","explicit","namespace","static_cast","using","export","new","struct","virtual","class","extern","operator","switch","const","false","private","template","volatile","const_cast","protected","wchar_t","continue","for","public","throw","while","default","friend","register","true","delete","goto","reinterpret_cast","try"],r=["==","<<=",">>=","*=","+=","~=","-=","/=","|=","^=","%=","&=","=","<<",">>","#","::","?",":",">=","<=","<",">","(",")","->","...",'"',"'","!=","++","--","{","}",",","+","-","*","/","~","||","&&","|","&","^","%","!","[","]","."],i=0,a=1,o=2,c=3,u=4,l=5,h=6,f=7,p=0,y=1,w=2,m=3;class d{#t;constructor(t,e){this.#t=t,this.t=e??0,this.error=[],this.i={},this.u={},this.meta={l:[]},this.h=new Map,this.stack=[],this.functions=new Map,this.p=new Map}m(t){if(0===this.error.length){const e=t(this);0===this.error.length&&(this.u=e.u,this.t=e.t)}return this}S(t){if(0===this.error.length){const e=t(this.copy());if(0===e.error.length)return this.u=e.u,this.t=e.t,!0;this.meta.l=this.meta.l.concat(e.error)}return!1}k(t){return this.u=t,t&&!t.lineNum&&(t.lineNum=this.v),this}_(t){return t.u=this.u,this}A(t){return this.u={},t+=` at line ${this.v+1}`,this.error.push(t),this}copy(){const t=new d(this.#t,this.t);return t.h=this.h,t.functions=this.functions,t.p=this.p,t.stack=this.stack,t}N(t){const e=[];for(;!this.empty();){if(!this.S((e=>t(e))))break;e.push(this.u)}return this.u=e,this}reduce(t,e){let n=e;for(;;){if(!this.S((e=>(e.meta.O=n,t(e)))))break;n=this.u}return this.u=n,this}j(t){if(this.error.length)return this;for(const e of t){const t=e[0],n=e[1],s=e[2];if("function"==typeof t){if(!t(this))continue;if(this.S((t=>n(t))))return s&&s(this),this}else if(t){for(const e of t)if(this.I.content===e&&(this.I.type===c||this.I.type===o)){const t=n(this);return s&&s(this),t}}else{if(this.S((t=>n(t))))return s&&s(this),this}}return this.error=this.error.concat(this.meta.l),0===this.error.length&&this.error.push("stop"),this}M=(t,e,n=!1)=>(this.error.length||(this.Z(t,e)?(n||(this.u={content:this.I.content,type:t}),this.t++):this.A(`cannot find ${e[0]}`)),this);P=t=>this.M(c,t,!0);$=t=>this.M(c,t);F=()=>this.M(h,[]);L=()=>this.M(h,[],!0);U=t=>this.M(o,t);V=()=>this.M(a,[]);C=t=>this.M(i,t);get I(){return this.#t[this.t]}D(t){return this.i[t]}Z(t,e){if(this.error.length)return!1;const n=this.I;return n.type===t&&(0===e.length||-1!==e.indexOf(n.content))}W=t=>this.Z(c,t);get v(){return this.t>=this.#t.length?-1:this.#t[this.t].line}empty(){return this.t>=this.#t.length}}const b="variable",g="binaryOp",S="array",x="arrayDeclearation",k="prefix",v="ternaryOp",_="declearation",A="forStmt",T="doStmt",N="breakStmt",O="continueStmt",j="returnStmt",I="block",M="function",z="program",Z="buildin",P="invoke",$="whileStmt",F="number",L="empty",U="type",V="POD",C="struct",D="string",E="if",W="postfix",B="lValue",q="structVariable";function G(){return{u:{type:L}}}const H=t=>{const e=t.C([]).u;let n=t.h.get(e?.content);if("this"==e.content)n={type:V,name:"this"};else if(!n)return t.A(`${e?.content} is not a varibale`),t;return t.k({type:b,T:n,content:e.content})},Q=t=>{const e=t.V().u;return t.k({type:F,content:e.content,T:"int"}),t},R=t=>{let e=G();return t.m(rt)._(e).k({type:B,content:e.u})},Y=(t,e)=>n=>{const s=n.m(e).u;return n.reduce((n=>{const r={},i={};return n.$(t)._(r).m(e)._(i).k({type:g,sign:r.u.content,content:[n.meta.O,i.u],T:s.T})}),s)},K=t=>{const e=t.U(["true","false"]).u.content;return t.k({type:F,content:"true"===e?"1":"0"})},X=t=>{const e=t.M(u,[]).u.content;return t.k({type:D,content:e})},J=t=>{const e=t.M(f,[]).u.content;return t.k({type:D,content:e,T:"char"})},tt=t=>{const e={};t.j([[null,t=>t.C([])],[null,t=>t.M(l,[])]])._(e);const n=e.u?.content,s=e.u?.type;if(!t.functions.get(n)&&s===P)return t.error.push(`${n} is not a function`),t;const r=t.P(["("]).N((t=>(t.m(gt),t.W([")"])||t.P([","]),t))).P([")"]).u;return t.k({type:s===l?Z:P,B:n,argus:r}),t},et=t=>t.j([[["("],t=>t.P(["("]).m(St).P([")"])],[["true","false"],K],[null,Q],[null,H],[null,tt],[null,X],[null,J]]),nt=t=>e=>{const n=G(),s=G();return e.j([[["["],e=>e.P(["["]).m(St)._(n).P(["]"]).m(nt(t))._(s).k({type:x,inner:s.u,t:n.u})],[null,e=>e.k(t)]])},st=(t,e)=>n=>{const s=n.I.content,r=G(),i=G();switch(t.type){case x:if("["==s)return n.P(["["]).m(St)._(r).P(["]"]).m(st(t.inner,e))._(i).k({type:x,inner:i.u,t:r.u});case C:{const a=t.name,o=n.p.get(a).content;let c;if("."==s)return n.P(["."]).j([[()=>n.I.content in o.record,t=>(c=o.record[n.I.content],t.C([]))],[()=>n.I.content in o.method,t=>(c=o.method[n.I.content].q.T,t.m(tt))],[null,t=>t.A(`${a} has no property ${t.I.content}`)]])._(r).m(st(c,e))._(i).k({type:q,record:r.u,inner:i.u});for(let t in o.operator)if(s===t&&"["==t){let s={type:P},r=G();return n.$(["["]).m(bt)._(r).m((e=>(c=o.operator[t].q.T,s.B=t,s.argus=[r.u],e))).$(["]"]).m(st(c,e))._(i).k({type:q,record:s,inner:i.u})}}default:n.u=null}return n},rt=t=>{const e=G();return t.m(et)._(e).m((n=>{let s=e.u,r=G();if(s.type===b){const e=s.T;n.m(st(e,s))._(r),r&&r.u&&(s.suffix=r.u),t.k(s)}return t.S((t=>t.$(["++","--"])))&&t.k({type:W,sign:t.u.content,content:s}),n}))},it=t=>{const e=["++","--","+","-","~","!","*","&"],n=G(),s=G();return t.j([[e,t=>t.$(e)._(n).m(it)._(s).k({type:k,sign:n.u.content,content:s.u})],[null,rt]])},at=t=>t.m(Y(["*","/","%"],it)),ot=t=>t.m(Y(["+","-"],at)),ct=t=>t.m(Y(["<<",">>"],ot)),ut=t=>t.m(Y(["<",">","<=",">="],ct)),lt=t=>t.m(Y(["==","!="],ut)),ht=t=>t.m(Y(["&"],lt)),ft=t=>t.m(Y(["^"],ht)),pt=t=>t.m(Y(["|"],ft)),yt=t=>t.m(Y(["&&"],pt)),wt=t=>t.m(Y(["||"],yt)),mt=t=>{const e=G();return t.P(["{"]).N((t=>(t.m(bt),t.W([","])&&t.P([","]),t)))._(e).P(["}"]).k({type:n.G,content:e.u})},dt=t=>t.j([[["{"],mt],[null,bt]]),bt=t=>{const e=t.m(wt).u;t.S((t=>{const n=t.P(["?"]).m(St).P([":"]).u,s=t.m(St).u;return t.k({type:v,sign:"?",content:[e,n,s]})}));return t},gt=t=>{const e=t.N((t=>{const e={},n={};return t.m(R)._(e).$(r.slice(1,13))._(n).k({type:g,sign:n.u.content,content:[e.u]})})).u,n=t.m(bt).u;if(e.length){for(let t=0;t<e.length-1;t++)e[t].content.push(e[t+1]);e[e.length-1].content.push(n),t.k(e[0])}return t},St=t=>{let e=t.m(gt).u;for(;t.W([","]);)t.$([","]),e={type:g,sign:",",content:[e,t.m(gt).u]};return t.k(e),t},xt=t=>t.m(St).L(),kt=t=>{const e=t.I.content;return t.p.has(e)?t.C([]).N((t=>(t.$(["<"]).m(vt).$([">"]),t))).k({type:U,T:{type:C,name:e}}):t.A("not struct")},vt=t=>{const e=s.slice(0,11),n={};return t.j([[["long"],t=>t.U(["long"]).m((t=>t.U(["long","double","int","float"])))._(n).k({type:U,T:{type:V,name:"long "+n.u}})],[e,t=>t.U(e)._(n).k({type:U,T:{type:V,name:n.u}})],[null,kt]])},_t=t=>{const e=t.m(vt).u?.T,n=G();return t.N((t=>{let n=t.C([]).u;const s=t.m(nt(e)).u;let r=null;return t.W(["="])&&(r=t.P(["="]).m(dt).u),t.W([","])&&t.P([","]),t.k([n,r,s]),t}))._(n).m((e=>{if(e.W(["("]))return e.A("not variable");return n.u.forEach((e=>{t.h.set(e[0].content,e[2]),t.stack.push(e[0].content)})),e})).k({type:_,content:n.u})},At=t=>{const e={},n={},s={},r={},i=t.I.line;return t.U(["for"]).P(["("]).j([[null,xt],[null,_t]]).L()._(e).m(St).L()._(n).m(St)._(s).P([")"]).j([[null,Zt],[null,zt]])._(r).k({type:A,initial:e.u,condition:n.u,increment:s.u,body:r.u,lineNum:i})},Tt=t=>{const e={},n={},s=t.I.line;return t.U(["while"]).P(["("]).m(St)._(e).P([")"]).j([[["{"],Zt],[null,zt]])._(n).k({type:$,condition:e.u,body:n.u,lineNum:s})},Nt=t=>{const e=G(),n=G();return t.U(["do"]).m(Zt)._(n).U(["while"]).P(["("]).m(St)._(e).k({type:T,condition:e.u,body:n.u})},Ot=t=>{const e={},n={},s={},r={},i=t.I.line;return t.U(["if"]).P(["("]).m(St).P([")"])._(e).j([[["{"],Zt],[null,zt]])._(n).N((t=>{const e={},n={};return t.U(["else"]).U(["if"]).P(["("]).m(St)._(e).P([")"]).m(Zt)._(n).k({condition:e.u,body:n.u})}))._(s).N((t=>t.U(["else"]).j([[["{"],Zt],[null,zt]])))._(r).k({type:E,condition:e.u,body:n.u,elif:s.u,elses:r.u[0],lineNum:i})},jt=t=>t.U(["break"]).k({type:N}).L(),It=t=>t.U(["continue"]).k({type:O}).L(),Mt=t=>{const e=G();return t.U(["return"]).m(St)._(e).k({type:j,content:e.u}).L()},zt=t=>t.j([[["for"],At],[["while"],Tt],[["do"],Nt],[["if"],Ot],[["break"],jt],[["continue"],It],[["return"],Mt],[null,xt],[null,t=>_t(t).L()]]),Zt=t=>{t.stack.push("{");const e=t.I.line,n=t.P(["{"]).N(zt).P(["}"]).u;for(n.lineNum=e;"{"!=t.stack[t.stack.length-1];)t.h.delete(t.stack[t.stack.length-1]),t.stack.pop();return t.stack.pop(),t.k({type:I,content:n})},Pt=t=>{const e={u:{type:L}},n={u:{type:L}},s={u:{type:L}},r={u:{type:L}};let i="";return t.m(vt)._(e).j([[["operator"],t=>t.U(["operator"]).$([]).m((t=>("["==t.u.content&&t.P(["]"]),t)))],[null,t=>t.C([])]])._(n).m((e=>(i=n.u.content,t.functions.set(i,{}),e))).P(["("]).N((e=>{if(e.W([")"]))return e.A("end");const n=e.m(vt).u?.T,s=e.C([]).u;return t.h.set(s.content,n),t.stack.push(s.content),e.u={type:n,variable:s},e.W([")"])||e.P([","]),e})).P([")"])._(r).m(Zt)._(s).m((e=>(e.functions.set(i,t.u),e))).k({type:M,B:i,q:e.u,parameters:r.u,body:s.u})},$t=t=>{const e=G(),n=G(),s=t.U(["struct","class"]).C([])._(e).P(["{"]).m((t=>(t.p.set(e.u.content,{}),t))).N((t=>t.j([[null,t=>_t(t).L()],[null,Pt]]))).P(["}"]).L()._(n).m((t=>{console.info(n);const e=n.u,s={},r={},i={};for(let t of e)if(t.type===_&&t.content.forEach((t=>{s[t[0].content]=t[2]})),t.type===M){const e=t.B;/^[^a-zA-Z_].*/.test(e)&&(i[e]=t),r[t.B]=t}return n.u={record:s,method:r,operator:i},t})).k({type:C,name:e.u.content,content:n.u});return t.p.set(e.u.content,t.u),s},Ft=t=>{const e=new d(t),n=(t=>{const e=[],n=new Map,s=new Map;return t.N((t=>t.j([[null,t=>_t(t).L(),t=>{e.push(t.u)}],[null,Pt,t=>{s.set(t.u.B,t.u)}],[["struct","class"],$t,t=>{n.set(t.u.name,t.u)}]]))).m((t=>(t.empty()||(t.error=t.error.concat(t.meta.l)),t))).k({type:z,globals:e,functions:s,main:t.functions.get("main"),p:n})})(e).u;if(0!==e.error.length)throw e.error;return n},Lt="\nvoid puts(string out) {\n    @output(out);\n}\n\nvoid printf(string out) {\n    @outputWithFormat( @arguments() );\n}\n\nvoid scanf(string out) {\n    @input( @arguments() );\n}\n\nint max(int x, int y) {\n    return x > y ? x : y;\n}\n\n\nint min(int x, int y) {\n    return x < y ? x : y;\n}\n\n",Ut=t=>{const e=/^((\d+\.\d*|\.\d+|\d+)([eE][-+]?\d+)?[lLuU]*)|^(0[xX][0-9a-fA-F]+[lLuU]*)|^(0[0-7]+[lLuU]*)/;if(t.startsWith(";"))return{type:h,content:";",len:1};if(t.startsWith('"'))for(let e=1;e<t.length;e++)if('"'==t[e]&&"\\"!=t[e-1]){let n=t.slice(1,e).replaceAll();return{type:u,content:n,len:e+1}}if(t.startsWith("'"))return{type:f,content:t[1],len:3};if(t.startsWith("#"))return{type:"preCompile",len:1};if(t.startsWith("/*"))return{type:"comment",content:"/*",len:2};if(/^[\s]+/.test(t)){const e=t.match(/^[\s]+/);return{type:"whiteSpace",content:e,len:e.length}}if(t.startsWith("//"))return{type:"comment",content:"//",len:t.length};if(e.test(t)){const n=t.match(e)[0];return{type:a,content:n,len:n.length}}if(/^[_a-zA-Z][_a-zA-Z0-9]*/.test(t)){const e=t.match(/^[_a-zA-Z][_a-zA-Z0-9]*/)[0];return-1!==s.indexOf(e)?{type:o,content:e,len:e.length}:{type:i,content:e,len:e.length}}if(/^\@[_a-zA-Z][_a-zA-Z0-9]*/.test(t)){const e=t.match(/^\@[_a-zA-Z][_a-zA-Z0-9]*/)[0];return{type:l,content:e,len:e.length}}for(const e of r)if(t.startsWith(e))return{type:c,content:e,len:e.length}},Vt=t=>{for(;""!==t.line;){if(t.H){let e=1;for(;e<t.line.length;e++)if("/"==t.line[e]&&"*"==t.line[e-1]){t.H=!1;break}if(t.line=t.line.slice(e+1),""===t.line)break}const e=Ut(t.line);if("preCompile"==e.type)return 1;const n=e;"whiteSpace"!=n.type&&"comment"!=n.type?(n.line=t.lineNum,t.stream.push(n)):"/*"===n.content&&(t.H=!0),t.line=t.line.slice(e.len)}return 0},Ct=(t,e)=>{let n=0;switch(t[n].content){case"include":n++,"<"==t[n].content&&n++;const s={lineNum:1,H:!1,stream:e},r={cstdio:Lt,stdio:Lt,iostream:'\nstruct OStream {\n    OStream operator<<(string s) {\n        printf(s);\n        return this;\n    }\n};\n\nOStream cout;\nstruct IStream {\n    IStream operator>>(int x) {\n        scanf("%d", &x);\n        return this;\n    }\n};\nIStream cin;\n\nint max(int x, int y) {\n    return x > y ? x : y;\n}\n\n\nint min(int x, int y) {\n    return x < y ? x : y;\n}\n'}[t[n].content].split("\n");for(const t of r)s.line=t,Vt(s);return;case"define":return void n++}},Dt=t=>{const e=t.split("\n"),n={lineNum:1,H:!1,stream:[]};for(const t of e){n.line=t;if(Vt(n)){const t=n.stream;n.stream=[],n.line=n.line.slice(1),Vt(n),Ct(n.stream,t),n.stream=t}n.lineNum++}return n.stream};class Et{constructor(t){t instanceof Et&&t.R instanceof Et?this.R=t.R:this.R=t}get content(){return this.R instanceof Et?this.R.content:this.R}set content(t){this.R instanceof Et&&(this.R.R=t),this.R=t}}class Wt{constructor(t){this.AST=t,this.output="",this.stack={arr:[]},this.Y=new Map,this.stack=[],this.K=new Map}async setValue(t,e){let n=await this.X(t);n=n.result,n.R=e}async binaryOp(t,e,n){switch(t=t.result,e=e.result,t instanceof Et&&(t=t.content),e instanceof Et&&(e=e.content),n){case"+":return t+e;case"-":return t-e;case"*":return t*e;case"/":return t/e;case"%":return t%e;case"<<":return t<<e;case">>":return t>>e;case"^":return t^e;case"|":return t|e;case"||":return t||e;case"&&":return t&&e;case"&":return t&e;case"<":return t<e?1:0;case">":return t>e?1:0;case"<=":return t<=e?1:0;case">=":return t>=e?1:0;case"=":return await this.setValue(t,e),e;case"==":return t==e?1:0;default:if(n.endsWith("=")){const s=n.substring(0,n.length-1),r=await this.J({type:g,content:[t,{type:F,content:e}],sign:s});return await this.setValue(t,r),e}}}async tt(t){await this.J(t.initial);let e=await this.J(t.condition),n=null,s={et:p};for(;0!=e.result;){const{state:r,result:i}=await this.J(t.body);if(r.et==m&&(n=i),r.et==m||r.et==w){s=r;break}await this.J(t.increment),e=await this.J(t.condition)}return s.et!=w&&s.et!=y||(s.et=p),{result:n,state:s}}async X(t){let e=this.Y.get(t.content);if(void 0===e&&(e=this.K.get(t.content)),t.suffix){e=e.content;let n=t.suffix;for(;n&&n;)switch(n.type){case x:{let t=await this.J(n.t);t=t.result,t instanceof Et&&(t=t.content),e=e[t],n=n.inner}break;case q:{const s=n.record;e=s.type==P?(await this.J(n.record,{nt:t.T.name,variable:e})).result:e[s.content],n=n.inner}}}return{result:e,state:{et:p}}}async st(t){switch(t.B){case"@output":for(const e of t.argus){const{result:t}=await this.J(e);this.output+=t.content}break;case"@arguments":return{result:this.Y.get("@arguments")};case"@input":const{result:e}=await this.J(t.argus[0]);for(let t=1;t<e.length;t++){const n=e[t],s=this.input?.shift();n.pointer.content=parseInt(s)}return{result:1,state:{et:p}};case"@outputWithFormat":{const{result:e}=await this.J(t.argus[0]),n=e;let s=n[0];s instanceof Et&&(s=s.content);for(let t=1;t<n.length;t++)s=s.replace("%d",n[t]instanceof Et?n[t].content:n[t]);this.output+=s}}return{result:null,state:{et:p}}}async rt(t){for(const e of t.globals)await this.J(e);this.K=this.Y,this.p=t.p,this.functionTable=t.functions;const{state:e}=await this.J(t.main);return{result:null,state:e}}async it(t){this.stack.push("block");let e={et:p},n=null;for(const s of t.content){const{result:t,state:r}=await this.J(s);if(r.et==m&&(n=t),r.et!=p){e=r;break}}for(;;){const t=this.stack.pop();if("block"==t)break;this.Y.delete(t)}return{result:n,state:e}}async ot(t,e){this.stack.push(t.B);const n=t.parameters,s=this.Y;this.Y=new Map,this.Y.set("@arguments",e);for(let s=0;s<n.length;s++){const r=n[s].variable.content;if("..."===r)break;this.stack.push(t.B),this.Y.set(r,new Et(e[s]))}const{state:r,result:i}=await this.J(t.body);for(;;){const e=this.stack.pop();if(e==t.B)break;this.Y.delete(e)}return this.Y=s,r.et=p,{result:i,state:r}}async ct(t){const{result:e}=await this.J(t.content);return{result:e,state:{et:m}}}async ut(t,e){let n=this.functionTable.get(t.B);const s=[];for(const e of t.argus){const{result:t,state:n}=await this.J(e);s.push(t)}if(e){n=this.p.get(e.nt).content.method[t.B];const r=e.variable;for(const t in r)n.parameters.push({variable:{content:t},type:null}),s.push(r[t])}const{result:r,state:i}=await this.J(n,s);return{result:r,state:i}}async getType(t){if(t.type==x){const e=(await this.J(t.t)).result.content,n=[];await this.getType(t.inner);for(let s=0;s<e;s++)n.push(await this.getType(t.inner));return n}if(t.type==V)return new Et(0);if(t?.type==C){const e=this.AST.p.get(t.name).content;console.info(e);const n={};for(const t in e.record)n[t]=await this.getType(e.record[t]);return n}}async lt(t){let e=t.sign,n=(await this.J(t.content)).result;for(;e&&"array"==e.type;){n=n[(await this.J(e.t)).result],e=e.inner}if("struct"==e?.type){n=n[e.record]}return{result:n,state:{et:p}}}async ht(t){const e=t.content.content,n=this.Y.get(e);let s,r=t.sign.record;if(0===r.type)r=r.content,s=n[r];else{s=(await this.J(r,{variable:n,nt:t.content.T.name})).result}return{result:s,state:{et:p}}}async ft(t){for(const e of t.content){const t=e[2],n=e[0].content,s=await this.getType(t);if(e[1]){const t=await this.J(e[1]);this.Y.set(n,new Et(t.result))}else this.Y.set(n,new Et(s));this.stack.push(n)}return{result:null,state:{et:p}}}async yt(t,e){switch(this.config&&this.config.debug&&this.v!=t.lineNum&&-1!=t.lineNum&&t.type!=I&&(this.v=t.lineNum,await this.config.debugCallback({currentNode:t,Y:this.Y,stack:this.stack,output:this.output,K:this.K})),t.type){case z:return this.rt(t);case M:return this.ot(t,e);case Z:return this.st(t);case j:return this.ct(t);case D:return{result:t.content,state:{et:p}};case P:return this.ut(t,e);case N:return{result:null,state:{et:w}};case O:return{result:null,state:{et:y}};case I:case x:return await this.it(t);case S:return this.lt(t);case g:{const e=t.content[0],n=await this.J(e),s=await this.J(t.content[1]);if(e.type==b&&e.T.type==C||e.T&&e.T.type==C){const s=this.p.get(e.T.name).content;for(let r in s.operator)if(r==t.sign)return await this.ut({argus:[t.content[1]],B:r},{nt:e.T.name,variable:n.result})}return{result:await this.binaryOp(n,s,t.sign),state:{et:p}}}case F:return{result:new Et(parseInt(t.content)),state:{et:p}};case _:return this.ft(t);case b:return this.X(t);case B:return{result:t.content,state:{et:p}};case B:{const{state:e,result:n}=await this.J(t.name);let s=n;for(const e of t.arr){const{state:t,result:n}=await this.J(e);s=s[n]}return{result:s,state:e}}case E:{let e=await this.J(t.condition);if(e=e.result,e instanceof Et&&(e=e.content),0!=e)return this.J(t.body);if(t.elif)for(const n of t.elif)if(e=await this.J(n.condition),e=e.result,e instanceof Et&&(e=e.content),0!=e)return this.J(n.body);if(t.elses)return this.J(t.elses)}case $:{let e=await this.J(t.condition),n={et:p},s=null;for(;0!=e.result;){const{state:r,result:i}=await this.J(t.body);if(n=r,r.et==m&&(s=i),r.et==m||r.et==w)break;e=await this.J(t.condition)}return n.et!=w&&n.et!=y||(n.et=p),{result:s,state:n}}case A:return await this.tt(t);case W:if("++"==t.sign){const e=await this.J(t.content);return await this.setValue(t.content,e.result.content+1),{result:e.result,state:e.state}}if("--"==t.sign){const e=await this.J(t.content);return await this.setValue(t.content,e.result.content-1),{result:e.result,state:e.state}}return"struct"==t.sign.type?this.ht(t):this.lt(t);case k:if("++"==t.sign){const e=await this.J(t.content);return this.Y.set(t.content.content,e.result+1),{result:e.result,state:e.state}}if("--"==t.sign){const e=await this.J(t.content);return this.Y.set(t.content.content,e.result-1),{result:e.result,state:e.state}}if("-"==t.sign){const e=await this.J(t.content);return{result:-e.result.content,state:e.state}}if("+"==t.sign){const e=await this.J(t.content);return{result:e.result.content,state:e.state}}if("&"==t.sign){const e=t.content;return{result:{pointer:(await this.J(e)).result},state:{et:p}}}case n.G:{const e=t.content;let n=[];for(const t of e){const{result:e}=await this.J(t);n.push(e)}return{result:n,state:e.state}}case v:if("?"==t.sign){if((await this.J(t.content[0])).result>0){const e=await this.J(t.content[1]);return{result:e.result,state:e.state}}{const e=await this.J(t.content[2]);return{result:e.result,state:e.state}}}}}async J(t,e){return await this.yt(t,e)}async launch(t,e){return e||(this.config={}),this.config=e,this.input=t?.split(/[\n\s]/),this.v=0,await this.rt(this.AST),{output:this.output.replaceAll("\\n","\n")}}}return e})()));